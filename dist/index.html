<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Skynet Skapp Tutorial</title>

    <!-- Edit or Replace the css file as you wish -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="wrapper">
      <h1>Create a Media Page</h1>
      <span class="caps" style="font-size: 16px"
        >Your Media, Decentralized &amp; Encrypted.</span
      >
      <br />

      <!-- Display button for Upload the media content -->
      <div class="snippet-wrapper">
        <label class="btn">
          <input type="file" accept="image/*, .jpg" id="mediaFile" multiple />
          Upload your Media
        </label>
      </div>

      <!-- Display the path to the media to be uploaded -->
      <br />
      <span class="snippet" id="file-selected"></span>

      <!-- Display button for Generating the Skylink -->
      <div class="cta">
        <!-- 
             The 'onClick' event for this Button is where the magic is happening.
             Everything else in this html for the most part can be changed based on
             your application.
          -->
        <button
          id="save-trigger"
          class="btn"
          onclick="generateSkylink()"
          >
          <!-- onclick="window.createMediaPage(document.getElementById('mediaFile').files[0])" -->
          Create Media Page!
        </button>
      </div>

      <!-- Display the generated skylink -->
      <a class="skylinks" id="mediaLink" href=""></a>

      <span style="margin-top: auto" class="caps">Powered by Sia Skynet</span>
    </div>

    <!-- Load the main.js file that is generated by webpack -->
    <script src="main.js"></script>
    <script>
      const selectElement = document.querySelector("#mediaFile");

      selectElement.addEventListener("change", (event) => {
        const result = document.querySelector("#file-selected");
        for (let i = 0; i < event.target.files.length; i++) {
          result.innerHTML += event.target.files[i].name + "<br />";
        }
        // console.log(event.target.files.length)
        // result.textContent = `${event.target.files.map(file => file.name)}`;
      });
      const generateSkylink = () => {
        const a = document.getElementById('mediaFile').files
        console.log(a)
        const b = window.createMediaPage(a)
        console.log(b)
      }
    </script>
  </body>
</html>
